import React, { useRef, useState }  from 'react';

// ğŸŒŸğŸŒŸğŸ˜ì‹¤ìŠµ
// 1. ì‚¬ìš©ìê°€ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì™„ë£Œë²„íŠ¼ì„ ëˆ„ë¥´ë©´, píƒœê·¸ì— ì´ë¦„ì´ ì‘ì„±ë˜ë„ë¡ êµ¬í˜„
// 2. ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì´ë¦„ì„ píƒœê·¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ì„±ë˜ë„ë¡ êµ¬í˜„
// 3. ì™„ë£Œë²„íŠ¼ì„ í´ë¦­í•˜ë©´ píƒœê·¸ì™€ ì…ë ¥ì°½ì— ëœ¬ ì´ë¦„ ë’¤ì— "ë‹˜"ì´ ë¶™ë„ë¡ êµ¬í˜„
/* 
    ì´ë²ˆì—” inputì— ì…ë ¥í•œ ì´ë¦„ì„  onChangeë¡œ ì´ë²¤íŠ¸ ê°ì§€í•´ì„œ píƒœê·¸ì— ì‘ì„±ë˜ë„ë¡ useStateë§Œìœ¼ë¡œ êµ¬í˜„í•˜ëŠ”ê²Œ ì•„ë‹Œ,
    useStateì™€ useRefë¥¼ ê°™ì´ ì‚¬ìš©í•˜ì—¬, inputì— ì´ë¦„ì…ë ¥ í›„, buttonì„ í´ë¦­í–ˆì„ë•Œ onClickìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•´ì„œ 
    ì•„ë¬´ ê´€ë ¨ ì—†ëŠ” píƒœê·¸ë¥¼ ì°¸ì¡°í•´ì„œ  píƒœê·¸ì™€ inputíƒœê·¸ì— ê°ê° ì…ë ¥í•œ ê°’ì„ ì¶œë ¥í•´ì¤˜ì•¼í•œë‹¤. 
    */

    const Name = () => {
     
    // resultì˜ ìƒíƒœ ê´€ë¦¬
    const [result, setResult] = useState();

    // input ê°€ì ¸ì˜¤ê¸°(inputì˜ ref ì°¸ì¡°ê°’)
    const inputRef = useRef();

    // píƒœê·¸ ê°€ì ¸ì˜¤ê¸°(pì˜ ref ì°¸ì¡°ê°’)
    const nameRef = useRef();

    // 1. ì‚¬ìš©ìê°€ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì™„ë£Œë²„íŠ¼ì„ ëˆ„ë¥´ë©´, píƒœê·¸ì— ì´ë¦„ì´ ì‘ì„±ë˜ë„ë¡ êµ¬í˜„
    // 3. ì™„ë£Œë²„íŠ¼ì„ í´ë¦­í•˜ë©´ píƒœê·¸ì— ì‘ì„±ëœ ì´ë¦„ ë’¤ì— "ë‹˜"ì´ ë¶™ë„ë¡ êµ¬í˜„
    // [button ì´ë²¤íŠ¸]
    const onClickToPutName = () =>{
        // onClickì€ ë²„íŠ¼ì„ ëˆ„ë¥´ê¸°ë§Œ í•˜ê¸°ì—, eì´ë²¤íŠ¸ê°ì²´ë¥¼ ì¸ìë¡œ ë„£ì„  í•„ìš”x

        // ğŸŒŸbutton ëˆŒë ¸ì„ ë•Œ inputê°’ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²• : 
        // ë§Œë“¤ì–´ì§„ inputRefë¡œ inputì„ ì°¸ì¡°í•´ì„œ inputì— ìˆëŠ” ê°’ì„ ë³´ì—¬ì£¼ë©´ ëœë‹¤.
        // console.log(inputRef) //{current:input} => inputRef.current.value = ì…ë ¥í•œê°’
        // console.log(inputRef.current.value) //ì…ë ¥í•œ ê°’ ì¶œë ¥ë¨

        // (inputì— ì…ë ¥í•œ ê°’ +ë‹˜)ì´ resultë³€ìˆ˜ë¥¼ í†µí•´ píƒœê·¸ì— ì¶œë ¥ëœë‹¤.
        setResult(inputRef.current.value + "ë‹˜") 

        // 4. ì™„ë£Œë²„íŠ¼ í´ë¦­í•˜ë©´ ì…ë ¥ì°½ì— ìˆëŠ” ì´ë¦„ì—ë„ "ë‹˜"ì´ ë¶™ë„ë¡ êµ¬í˜„
        // ğŸŒŸpíƒœê·¸ì— ì¶œë ¥ëœ ê°’ì„ nameRefë¡œ ì°¸ì¡°í•´ì„œ "ë‹˜"ì„ ë¶™ì¸ ë’¤, inputì˜ valueê°’ìœ¼ë¡œ ë„£ëŠ”ë‹¤.
        // => píƒœê·¸ì™€ inputì„ ë™ê¸°í™”ì‹œì¼œì£¼ê¸° ìœ„í•´ píƒœê·¸ì˜ resultê°’ì„ inputì˜ valueë¡œ ë„˜ê²¨ì¤€ ê²ƒ!

        // setResult(nameRef.current.innerText + "ë‹˜") 
        // ì—†ì–´ë„ ë™ê¸°í™” ë˜ëŠ” ì´ìœ  : inputíƒœê·¸ì— valueê°’ìœ¼ë¡œ resultë¥¼ ë„£ì–´ì¤Œìœ¼ë¡œì¨ ë™ê¸°í™”ê°€ í•´ê²° ëœë‹¤.
    };

    
    // 2. ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì´ë¦„ì„ píƒœê·¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ì„±ë˜ë„ë¡ êµ¬í˜„
    // [input ì´ë²¤íŠ¸]
    const onChangeSetName = (e) =>{ 
        // = inputì— ë¬´ì–¸ê°€ ì…ë ¥ë¨ì´ ê°ì§€ë˜ë©´ ì…ë ¥í•œ ê°’ì„ resultë¡œ ë„˜ê²¨ì¤˜.
        setResult(e.target.value)
    }
   
    return (
        <>
            <input ref={inputRef} type="text" onChange={onChangeSetName} value={result}/>
            <p ref={nameRef}>{result}</p>
            <button onClick={onClickToPutName}>ì™„ë£Œ ë²„íŠ¼</button>
        </>
    );
};

export default Name;