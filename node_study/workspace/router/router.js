// ë¼ìš°í„°ë€?
// ë¼ìš°í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ ê²½ë¡œ(path)ë¥¼ ë³´ê³  ì´ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê³³ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì „ë‹¬í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. 
// ì• í”Œë¦¬ì¼€ì´ì…˜ ì—”ë“œ í¬ì¸íŠ¸ (URI)ì˜ ì •ì˜, ê·¸ë¦¬ê³  URIê°€ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ì‘ë‹µí•˜ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤. 
// ì˜ˆë¥¼ ë“¤ì–´, í´ë¼ì´ì–¸íŠ¸ê°€ /users ê²½ë¡œë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤ë©´ ì´ì— ëŒ€í•œ ì‘ë‹µ ì²˜ë¦¬ë¥¼ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë³„ë„ë¡œ
// ë¶„ë¦¬í•´ì„œ ë§Œë“  ë‹¤ìŒ get()ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë¼ìš°í„°ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

import { createServer } from "http"
import { parse } from "url";  // parseëª¨ë“ˆì„ urlì—ì„œ ê°€ì ¸ì˜¤ê¸°

const server = createServer((req, res) => {

    // true : ì¿¼ë¦¬ìŠ¤íŠ¸ë§(url ì¤‘ì—ì„œ ?(ë¬¼ìŒí‘œ) ë’· ë¶€ë¶„)ì„ ê°ì²´ í˜•ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.
    // false : ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ ë¬¸ìì—´ í˜•ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.

     // URLì—ì„œ URI(pathname)ì„ ë¶„ë¦¬(pathname=uri) //parse(req.url, true)ëŠ” ê°ì²´
    const path = parse(req.url, true).pathname;
    res.setHeader("Content-Type", "text/html; charset=utf-8")
    res.statusCode = 200; // ì •ìƒì½”ë“œ

    // uri pathì¡°ê±´ë¬¸
    if(path === "/new"){ // new í˜ì´ì§€
        res.end("<h1 style='text-align: center'>ğŸ”…ì‹ ìƒí’ˆğŸ”… ì†Œê°œ</h1>");
    } else if (path === "/hot"){ // hot í˜ì´ì§€
        res.end("<h1 style='text-align: center'>â¤í•«ìƒí’ˆâ¤ ì†Œê°œ</h1>");
    } else { // page not fount (ì‚¬ìš©ìê°€ ì˜ëª» ì…ë ¥í•œ ê²ƒ)
        res.statusCode = 404;
        res.end(
            "<h1 style='text-align: center'>í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.ğŸ˜¥</h1>"
        )
    } //ë§Œì•½, ë¡œê·¸ì¸ë¼ìš°í„°ì—ì„œ ì‚¬ìš©ìì •ë³´ ë°ì´í„°ë¥¼ DBì—ì„œ ê°–ê³  ì˜¤ê³  ì‹¶ë‹¤ë©´ ì—¬ê¸°ì„œ resë¡œ ê°€ì ¸ì˜¤ë©´ ë¨
})
// ì„œë²„ì‹¤í–‰ : 8000ë²ˆ í¬íŠ¸ì—ì„œ ì‚¬ìš©ìê°€ ì‘ë‹µí–ˆì„ ë•Œ, requestì™€ response ë³´ë‚´ì¤„ ì¤€ë¹„ ì™„ë£Œ
server.listen(8000, () => console.log('Router Server Start!!'))